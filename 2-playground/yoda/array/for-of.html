<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Array - for of</title>
  </head>
  <body>
    <script>
      // 설명: for in 루프는 배열의 모든 열거 가능한 속성을 순회. 특징은 프로토타입 체인에서 상속된 속성까지 포함해서 순회.
      //  그래서 Object.prototype.hasOwnProperty.call를 써서 상속된 속성에 대한 필터링 작업을 함. 배열의 고유 요소만을 순회하도록 하는 패턴.
      //  ES6에서는 이러한 코드 양을 줄이기 위한 방안으로 for of를 씀
      const arr = [
        { id: 1, name: '', age: 21 },
        { id: 2, name: '', age: 22 },
        { id: 3, name: '', age: 23 },
      ]

      Array.prototype.getName = function () {}

      // for in - not filtered
      for (const key in arr) {
        console.log(arr[key]) // {id: 1, name: '', age: 21} ... getName
      }

      // for in - filtered
      for (const i in arr) {
        if (Object.prototype.hasOwnProperty.call(arr, i)) {
          console.log(arr[i]) // {id: 1, name: '', age: 21} ...
        }
      }

      // for of
      for (const x of arr) {
        console.log(x) // {id: 1, name: '', age: 21} ...
      }
    </script>
  </body>
</html>
