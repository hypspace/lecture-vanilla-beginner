<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Object Pattern - class</title>
  </head>
  <body>
    <script>
      // 설명: JS는 본래 클래스가 없고, 함수만 있는데 es6 class 문법을 통해 객체 생성할 수 있음
      //  아래와 같이 함수와 프로토타입 기반의 상속을 통해 객체 지향적인 패턴의 클래스를 만들 수 있음
      //  이는 초기 객체 지향 패턴을 보여주는 예 Health가 생성자 역할을 하고
      //  Health.prototype에 메서드를 추가하여 생성된 모든 인스턴스에서 해당 메서드를 사용할 수 있게 됨
      //  구 방식은 자연스럽고 개인적으로 좋다고 생각하지만 class 문법은 모듈화가 되기 때문에 직관적이고 가독성 면에서 좋음

      // 전
      function Health(name) {
        this.name = name
      }

      Health.prototype.showHealth = function () {
        return this.name
      }

      const myHealth = new Health('wang')
      console.log(myHealth, myHealth.showHealth(), toString.call(Health)) // Health {name: 'wang'} 'wang' '[object Function]'

      // 후 - es6 class: constructor가 내장되어 있기 때문에 new... 할 필요x
      class Health2 {
        constructor(name) {
          this.name = name
        }

        // showHealth2가 프로토타입에 저장됨. class Health2도 class일 뿐, 내부적으로는 함수로 처리됨
        showHealth2() {
          return this.name
        }
      }

      const myHealth2 = new Health2('bob')
      console.log(myHealth2, myHealth2.showHealth2(), toString.call(Health2)) // Health2 {name: 'bob'} 'bob' '[object Function]'
    </script>
  </body>
</html>
